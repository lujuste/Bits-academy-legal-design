{"version":3,"file":"active-campaign-react.js","sources":["../src/index.tsx"],"sourcesContent":["import React from 'react'\n\ninterface ActiveCampaignInputsProps {\n  formId: string\n}\n\nexport function ActiveCampaignInputs({ formId }: ActiveCampaignInputsProps) {\n  return (\n    <>\n      <input type=\"hidden\" name=\"u\" value={formId} />\n      <input type=\"hidden\" name=\"f\" value={formId} />\n      <input type=\"hidden\" name=\"s\" />\n      <input type=\"hidden\" name=\"c\" value=\"0\" />\n      <input type=\"hidden\" name=\"m\" value=\"0\" />\n      <input type=\"hidden\" name=\"act\" value=\"sub\" />\n      <input type=\"hidden\" name=\"v\" value=\"2\" />\n    </>\n  )\n}\n\ntype Options = { fetcher: (formData: FormData, headers: any) => Promise<any> }\nexport function handleActiveCampaignSubmit<T extends Record<string, any>>(data: T, subdomain: string, formId: string, options?: Options) {\n  const completeData = { u: formId, f: formId, s: '', c: '0', m: '0', act: 'sub', v: '2', ...data }\n\n  try {\n    let formData = new FormData()\n    for (let key in completeData) {\n      formData.append(key, completeData[key])\n    }\n\n    if (options?.fetcher) {\n      options.fetcher(formData, { method: 'POST', mode: 'no-cors', cache: 'no-cache' })\n      return\n    }\n\n    fetch(`https://${subdomain}.activehosted.com/proc.php`, {\n      method: 'POST',\n      mode: 'no-cors',\n      cache: 'no-cache',\n      body: formData,\n    })\n  } catch (error) {\n    throw new Error(`Request failed ${error}`)\n  }\n}\n"],"names":["formId","React","type","name","value","data","subdomain","options","completeData","u","f","s","c","m","act","v","formData","FormData","key","append","fetcher","method","mode","cache","fetch","body","error","Error"],"mappings":"8VAMuCA,IAAAA,OACrC,OACEC,gDACEA,iCAAOC,KAAK,SAASC,KAAK,IAAIC,MAAOJ,IACrCC,iCAAOC,KAAK,SAASC,KAAK,IAAIC,MAAOJ,IACrCC,iCAAOC,KAAK,SAASC,KAAK,MAC1BF,iCAAOC,KAAK,SAASC,KAAK,IAAIC,MAAM,MACpCH,iCAAOC,KAAK,SAASC,KAAK,IAAIC,MAAM,MACpCH,iCAAOC,KAAK,SAASC,KAAK,MAAMC,MAAM,QACtCH,iCAAOC,KAAK,SAASC,KAAK,IAAIC,MAAM,oDAMgCC,EAASC,EAAmBN,EAAgBO,GACpH,IAAMC,KAAiBC,EAAGT,EAAQU,EAAGV,EAAQW,EAAG,GAAIC,EAAG,IAAKC,EAAG,IAAKC,IAAK,MAAOC,EAAG,KAAQV,GAE3F,IACE,IAAIW,EAAW,IAAIC,SACnB,IAAK,IAAIC,KAAOV,EACdQ,EAASG,OAAOD,EAAKV,EAAaU,IAGpC,SAAIX,GAAAA,EAASa,QAEX,YADAb,EAAQa,QAAQJ,EAAU,CAAEK,OAAQ,OAAQC,KAAM,UAAWC,MAAO,aAItEC,iBAAiBlB,+BAAuC,CACtDe,OAAQ,OACRC,KAAM,UACNC,MAAO,WACPE,KAAMT,IAER,MAAOU,GACP,UAAUC,wBAAwBD"}